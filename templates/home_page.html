{% extends "_base.html" %}

{% load i18n %}
{% load static %}

{% block title %}{% trans "Home Page" %}{% endblock title %}

{% block mini_cart_icon %}{% include 'cart/mini_cart_icon_with_aside.html' %}{% endblock %}

{% block content %}

    {% include 'products/category_navbar.html' %}

    <!-- Hero Section -->
    <section class="hero-section bg-gradient-primary text-white py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold mb-4">به دنیای مد و زیبایی خوش آمدید</h1>
                    <p class="lead mb-4">با جدیدترین مجموعه کفش، کیف و پوشاک از برترین برندها</p>
                    <div class="hero-buttons">
                        <a href="{% url 'products:product_list' %}" class="btn btn-light btn-lg me-3">
                            <i class="fas fa-shopping-bag me-2"></i>مشاهده محصولات
                        </a>
                        <a href="#discounted" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-tag me-2"></i>تخفیف‌های ویژه
                        </a>
                    </div>
                </div>
                <div class="col-lg-6 text-center">
                    <img src="{% static 'img/hero-shoes.png' %}" alt="Hero Image" class="img-fluid" style="max-height: 400px;">
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories-section py-5">
        <div class="container">
            <div class="row mb-4">
                <div class="col-12 text-center">
                    <h2 class="section-title fw-bold">دسته‌بندی‌های محصولات</h2>
                    <p class="text-muted">محصولات مورد نظر خود را در دسته‌بندی‌های مختلف پیدا کنید</p>
                </div>
            </div>
            <div class="row g-4">
                <div class="col-md-3 col-6">
                    <a href="{% url 'products:product_list' %}?major_category=Women" class="category-card text-decoration-none">
                        <div class="card text-center h-100 shadow-sm hover-shadow">
                            <div class="card-body py-4">
                                <div class="category-icon mb-3">
                                    <i class="fas fa-female fa-3x text-pink"></i>
                                </div>
                                <h5 class="card-title">کفش زنانه</h5>
                                <p class="text-muted small">مدل‌های شیک و متنوع</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-3 col-6">
                    <a href="{% url 'products:product_list' %}?major_category=Men" class="category-card text-decoration-none">
                        <div class="card text-center h-100 shadow-sm hover-shadow">
                            <div class="card-body py-4">
                                <div class="category-icon mb-3">
                                    <i class="fas fa-male fa-3x text-blue"></i>
                                </div>
                                <h5 class="card-title">کفش مردانه</h5>
                                <p class="text-muted small">رسمی، اسپرت و روزمره</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-3 col-6">
                    <a href="{% url 'products:product_list' %}?major_category=Bags" class="category-card text-decoration-none">
                        <div class="card text-center h-100 shadow-sm hover-shadow">
                            <div class="card-body py-4">
                                <div class="category-icon mb-3">
                                    <i class="fas fa-briefcase fa-3x text-brown"></i>
                                </div>
                                <h5 class="card-title">کیف و کوله</h5>
                                <p class="text-muted small">کیف‌های اداری و روزانه</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-3 col-6">
                    <a href="{% url 'products:product_list' %}?major_category=Clothing" class="category-card text-decoration-none">
                        <div class="card text-center h-100 shadow-sm hover-shadow">
                            <div class="card-body py-4">
                                <div class="category-icon mb-3">
                                    <i class="fas fa-tshirt fa-3x text-green"></i>
                                </div>
                                <h5 class="card-title">پوشاک</h5>
                                <p class="text-muted small">کت، ژاکت و کلاه</p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- New Products Section -->
    <section class="new-products-section py-5 bg-light">
        <div class="container">
            <div class="row mb-4">
                <div class="col-12 d-flex justify-content-between align-items-center">
                    <h2 class="section-title fw-bold">محصولات جدید</h2>
                    <a href="{% url 'products:product_list' %}?sort=newest" class="btn btn-outline-primary">
                        مشاهده همه <i class="fas fa-arrow-left me-2"></i>
                    </a>
                </div>
            </div>
            <div class="row g-4">
                {% for product in new_products %}
                <div class="col-xl-3 col-lg-4 col-md-6">
                    {% include 'products/partials/product_card.html' with product=product %}
                </div>
                {% empty %}
                <div class="col-12 text-center py-4">
                    <p class="text-muted">محصول جدیدی یافت نشد</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Best Selling Section -->
    <section class="best-selling-section py-5">
        <div class="container">
            <div class="row mb-4">
                <div class="col-12 d-flex justify-content-between align-items-center">
                    <h2 class="section-title fw-bold">پرفروش‌ترین‌ها</h2>
                    <a href="{% url 'products:product_list' %}?sort=popular" class="btn btn-outline-primary">
                        مشاهده همه <i class="fas fa-arrow-left me-2"></i>
                    </a>
                </div>
            </div>
            <div class="row g-4">
                {% for product in best_selling_products %}
                <div class="col-xl-3 col-lg-4 col-md-6">
                    {% include 'products/partials/product_card.html' with product=product %}
                </div>
                {% empty %}
                <div class="col-12 text-center py-4">
                    <p class="text-muted">محصول پرفروشی یافت نشد</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Discounted Products Section -->
    <section id="discounted" class="discounted-section py-5 bg-warning bg-opacity-10">
        <div class="container">
            <div class="row mb-4">
                <div class="col-12 d-flex justify-content-between align-items-center">
                    <div>
                        <h2 class="section-title fw-bold">تخفیف‌های ویژه</h2>
                        <p class="text-muted mb-0">فرصت استثنایی برای خرید با بهترین قیمت</p>
                    </div>
                    <a href="{% url 'products:product_list' %}?offer=true" class="btn btn-outline-danger">
                        مشاهده همه <i class="fas fa-arrow-left me-2"></i>
                    </a>
                </div>
            </div>
            <div class="row g-4">
                {% for product in discounted_products %}
                <div class="col-xl-3 col-lg-4 col-md-6">
                    {% include 'products/partials/product_card.html' with product=product %}
                </div>
                {% empty %}
                <div class="col-12 text-center py-4">
                    <p class="text-muted">محصول تخفیف‌دار یافت نشد</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section py-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4 text-center">
                    <div class="feature-item">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-shipping-fast fa-2x text-primary"></i>
                        </div>
                        <h5>ارسال رایگان</h5>
                        <p class="text-muted">برای خریدهای بالای ۵۰۰,۰۰۰ تومان</p>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="feature-item">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-shield-alt fa-2x text-success"></i>
                        </div>
                        <h5>ضمانت بازگشت</h5>
                        <p class="text-muted">۷ روز ضمانت بازگشت کالا</p>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="feature-item">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-headset fa-2x text-info"></i>
                        </div>
                        <h5>پشتیبانی ۲۴/۷</h5>
                        <p class="text-muted">پشتیبانی آنلاین در تمام ساعات</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <style>
    .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .category-card .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .category-card .card:hover {
        transform: translateY(-5px);
    }

    .hover-shadow:hover {
        box-shadow: 0 10px 25px rgba(0,0,0,0.1) !important;
    }

    .text-pink { color: #e83e8c; }
    .text-blue { color: #007bff; }
    .text-brown { color: #8b4513; }
    .text-green { color: #28a745; }

    .section-title {
        position: relative;
        padding-bottom: 15px;
    }

    .section-title::after {
        content: '';
        position: absolute;
        bottom: 0;
        right: 0;
        width: 60px;
        height: 3px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 2px;
    }

    .feature-item {
        padding: 30px 20px;
        border-radius: 10px;
        transition: all 0.3s ease;
    }

    .feature-item:hover {
        background: white;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transform: translateY(-5px);
    }
    </style>

    {% include 'cart/mini_cart_aside.html' %}

{% endblock content%}